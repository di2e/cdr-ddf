<?xml version="1.0" encoding="UTF-8"?>
<!--
/**
 * Copyright (c) Cohesive Integrations, LLC
 *
 * This is free software: you can redistribute it and/or modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or any later version. 
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License for more
 * details. A copy of the GNU Lesser General Public License is distributed along with this program and can be found at
 * <http://www.gnu.org/licenses/lgpl.html>.
 * 
 **/
 -->
<features name="${project.artifactId}-${project.version}">

    <feature name="cdr-atom-result-xformer" install="manual" version="${project.version}"
        description="Atom Metacard and Query Response Transformer">
        <bundle>mvn:ddf.registry.core/registry-core-api/${ddf.registry.version}</bundle>
        <bundle>mvn:net.di2e.ecdr.transformer/cdr-transformer-mapper/${project.version}</bundle>
        <bundle>mvn:net.di2e.ecdr.libs/cdr-rest-search-commons/${project.version}</bundle>
        <bundle>mvn:net.di2e.ecdr.transformer/cdr-atom-result-xformer/${project.version}</bundle>
    </feature>

    <feature name="cdr-rest-search-endpoint" install="manual" version="${project.version}" description="CDR REST Search endpoint.">
        <bundle>mvn:ddf.registry.core/registry-core-api/${ddf.registry.version}</bundle>
        <bundle>mvn:net.di2e.ecdr.transformer/cdr-transformer-mapper/${project.version}</bundle>
        <bundle>mvn:net.di2e.ecdr.libs/cdr-rest-search-commons/${project.version}</bundle>
        <bundle>mvn:net.di2e.ecdr.libs/cdr-libs-result-relevance-normalizer/${project.version}</bundle>
        <bundle>mvn:net.di2e.ecdr.federation/cdr-federation-strategies/${project.version}</bundle>
        <bundle>mvn:net.di2e.ecdr.endpoint/cdr-rest-search-endpoint/${project.version}</bundle>
    </feature>

    <feature name="cdr-rest-source" install="manual" version="${project.version}" description="CDR REST Source">
        <feature>cdr-atom-result-xformer</feature>
        <bundle>mvn:ddf.registry.core/registry-core-api/${ddf.registry.version}</bundle>
        <bundle>mvn:net.di2e.ecdr.libs/cdr-rest-search-commons/${project.version}</bundle>
        <bundle>mvn:net.di2e.ecdr.source/cdr-rest-source/${project.version}</bundle>
    </feature>

    <feature name="cdr-rest-broker-endpoint" install="manual" version="${project.version}" description="CDR REST Search endpoint.">
        <bundle>mvn:ddf.registry.core/registry-core-api/${ddf.registry.version}</bundle>
        <bundle>mvn:net.di2e.ecdr.transformer/cdr-transformer-mapper/${project.version}</bundle>
        <bundle>mvn:net.di2e.ecdr.libs/cdr-rest-search-commons/${project.version}</bundle>
        <bundle>mvn:net.di2e.ecdr.libs/cdr-libs-result-relevance-normalizer/${project.version}</bundle>
        <bundle>mvn:net.di2e.ecdr.federation/cdr-federation-strategies/${project.version}</bundle>
        <bundle>mvn:net.di2e.ecdr.endpoint/cdr-rest-broker-endpoint/${project.version}</bundle>
    </feature>

    
    <feature name="ddf-compression" install="manual" version="${project.version}"
             description="Installs DDF compression services that can be used for CXF-based endpoints.">
        <bundle start-level="70">mvn:ddf.compression/compression-exi/${ddf.compression.version}</bundle>
        <bundle start-level="70">mvn:ddf.compression/compression-gzip/${ddf.compression.version}</bundle>
    </feature>
    
    <feature name="cdr-app" install="auto" version="${project.version}"
        description="Enterprise CDR (Content Discovery and Retrieval) is used for discovering data that is exposed by the CDR Search and/or Brokered Search Interfaces.::Enterprise CDR">
        <feature>catalog-app</feature>
        <feature>cdr-atom-result-xformer</feature>
        <feature>cdr-rest-search-endpoint</feature>
        <feature>cdr-rest-broker-endpoint</feature>
        <feature>cdr-rest-source</feature>
    </feature>

</features>
